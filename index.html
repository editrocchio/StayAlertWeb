<!DOCTYPE html>
<html lang="en">

<head>
  <title>Stay Alert</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.css">
  <!-- Firebase App is always required and must be first -->
  <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase-app.js"></script>

  <!-- Add additional services that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase-firestore.js"></script>

  <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
  <script>
    // Initialize Firebase
      var config = {
        apiKey: "AIzaSyAu57uZOerao8kNtGDqXPtyk_7UynVM9P0",
        authDomain: "stayalert-85212.firebaseapp.com",
        databaseURL: "https://stayalert-85212.firebaseio.com",
        projectId: "stayalert-85212",
        storageBucket: "stayalert-85212.appspot.com",
        messagingSenderId: "312308869743"
      };
      firebase.initializeApp(config);
    </script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
</head>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.css">
    <style>
        /* Always set the map height explicitly to define the size of the div
         * element that contains the map. */
        #map {
          height: 80%;
          width: 50%;
          margin-left: 10%;
          margin-bottom: 2%;
          border: 2px solid black;
          display: inline-block;
          border-radius: 10px;
        }

        html, body {
          height: 100%;
          margin: 0 0 0 0;
          padding: 0;
          background-color: #A9AAB0;
        }

        .ui.inverted.menu {
          background: #292f33
        }

        .twitter-timeline {
          margin-left: 0;
          padding-bottom: 200px;
          border-radius: 1%;
        }

        #twitterDiv {
          margin-bottom: 8%;
          border: 2px solid black;
          width: 50%;
          height: 504px;
          margin-left: 10%;
          border-radius: 10px;
        }

        #filter {
          width: 28%;
          height: 50%;
          background-color: #292f33;
          float: right;
          margin: 0 10% 0 0;
          padding-left: 10px;
          padding-top: 10px;
          text-align: left;
          border-radius: 10px;
          z-index: 1000;
          border: 2px solid black;
        }

        .about {
          width: 28%;
          height: 50%;
          background-color: #292f33;
          float: right;
          margin: 0 10% 0 0;
          padding-left: 10px;
          padding-top: 10px;
          text-align: left;
          border-radius: 10px;
          z-index: 1000;
          border: 2px solid black;
          position: relative;
          bottom: 230px;
        }

        .outercheck {
          margin-bottom: 5%;
          height: 4%;
        }

        p {
          color: white;
        }

        #aboutText {
          font-size: 11pt;
        }

        @media screen and (max-width: 1100px) {

          label p {
            font-size: 8pt;
          }

          #aboutText {
            font-size: 8pt;
          }
        }
      </style>
</head>

<body>
  <div class="ui inverted menu">
    <div class="header item">
      Stay Alert
    </div>
    <a class="item active" href="index.html">
      Map
    </a>
    <a class="item" href="database.html">
      Database
    </a>
    <a class="item" href="ReportACrime.html">
      Report a Crime
    </a>
    <a class="item" href="faq.html">
      FAQ
    </a>
  </div>

  <div id="floating-panel">
    <button onclick="toggleHeatmap()">Toggle Heatmap</button>
  </div>

  <div id="map"></div>

  <div id="filter">
    <h1 class="ui header">
      <p>Filter Map </p>
    </h1>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Break and Enter (Commercial)</p>
        </label>
      </div>
    </div>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Break and Enter (Residential)</p>
        </label>
      </div>
    </div>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Mischief</p>
        </label>
      </div>
    </div>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Other Theft</p>
        </label>
      </div>
    </div>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Theft From Vehicle</p>
        </label>
      </div>
    </div>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Theft of Vehicle</p>
        </label>
      </div>
    </div>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Theft of Bicycle</p>
        </label>
      </div>
    </div>
    <div class="outercheck">
      <div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Vehicle Collision or Pedestrian Struck (injury)</p>
        </label>
      </div>
    </div>
    <div class="outercheck"><div class="ui checkbox">
        <input type="checkbox" name="example">
        <label>
          <p>Vehicle Collision or Pedestrian Struck (fatality)</p>
        </label>
      </div>
    </div>
  </div>

  <div class="about">
    <h1 class="ui header">
      <p>About Stay Alert</p>
    </h1>
    <label>
      <p id="aboutText">Stay alert is the greatest thing ever</p>
    </label>
  </div>

  <div id="twitterDiv">
    <a class="twitter-timeline" data-width="100%" data-height="500" data-theme="dark" data-link-color="#F5F8FA" data-chrome="nofooter" href="https://twitter.com/VancouverPD?ref_src=twsrc%5Etfw">Tweets by VancouverPD</a>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
  <script>
    var map;

    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: {
          lat: 49.246292,
          lng: -123.116226
        },
        zoom: 12
      });

      heatmap = new google.maps.visualization.HeatmapLayer({
          data: getPoints(),
          map: map
        });
    }

    function toggleHeatmap() {
          heatmap.setMap(heatmap.getMap() ? null : map);
    }

    function getPoints() {
           return [
             new google.maps.LatLng(37.782551, -122.445368),
             new google.maps.LatLng(37.782745, -122.444586),
           ];
         }

    $('.menu .item')
      .tab();
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRGQFuNnBRcxX1-kYEtPNfrMxo6lMjNfk&libraries=visualization&callback=initMap" async defer></script>



  <script>
    // Initialize Cloud Firestore through Firebase
    var db = firebase.firestore();

    // Disable deprecated features
    db.settings({
      timestampsInSnapshots: true
    });

    var docRef = db.collection("new_data").doc("test");

    docRef.get().then(function(doc) {
      if (doc.exists) {
        var d = doc.data();
        var arb = d[Object.keys(d)[0]];
        var firstCrime = arb[0];
        var crime = firstCrime[Object.keys(firstCrime)[1]];
        console.log(crime);
      }
    }).catch(function(error) {
      console.log("Error getting document:", error);
    });
  </script>


</body>

</html>
